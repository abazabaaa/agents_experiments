https://lark-parser.readthedocs.io/en/stable/_downloads/9e5ca2d2f34acae5a9391bd4b16a935f/conf_lalr.ipynb

```
{
  "cells": [\
    {\
      "cell_type": "markdown",\
      "metadata": {},\
      "source": [\
        "\n# LALR\u2019s contextual lexer\n\nThis example demonstrates the power of LALR's contextual lexer,\nby parsing a toy configuration language.\n\nThe terminals `NAME` and `VALUE` overlap. They can match the same input.\nA basic lexer would arbitrarily choose one over the other, based on priority,\nwhich would lead to a (confusing) parse error.\nHowever, due to the unambiguous structure of the grammar, Lark's LALR(1) algorithm knows\nwhich one of them to expect at each point during the parse.\nThe lexer then only matches the tokens that the parser expects.\nThe result is a correct parse, something that is impossible with a regular lexer.\n\nAnother approach is to use the Earley algorithm.\nIt will handle more cases than the contextual lexer, but at the cost of performance.\nSee examples/conf_earley.py for an example of that approach.\n"\
      ]\
    },\
    {\
      "cell_type": "code",\
      "execution_count": null,\
      "metadata": {\
        "collapsed": false\
      },\
      "outputs": [],\
      "source": [\
        "from lark import Lark\n\nparser = Lark(r\"\"\"\n        start: _NL? section+\n        section: \"[\" NAME \"]\" _NL item+\n        item: NAME \"=\" VALUE? _NL\n\n        NAME: /\\w/+\n        VALUE: /./+\n\n        %import common.NEWLINE -> _NL\n        %import common.WS_INLINE\n        %ignore WS_INLINE\n    \"\"\", parser=\"lalr\")\n\n\nsample_conf = \"\"\"\n[bla]\na=Hello\nthis=\"that\",4\nempty=\n\"\"\"\n\nprint(parser.parse(sample_conf).pretty())"\
      ]\
    }\
  ],
  "metadata": {
    "kernelspec": {
      "display_name": "Python 3",
      "language": "python",
      "name": "python3"
    },
    "language_info": {
      "codemirror_mode": {
        "name": "ipython",
        "version": 3
      },
      "file_extension": ".py",
      "mimetype": "text/x-python",
      "name": "python",
      "nbconvert_exporter": "python",
      "pygments_lexer": "ipython3",
      "version": "3.7.17"
    }
  },
  "nbformat": 4,
  "nbformat_minor": 0
}
```