https://lark-parser.readthedocs.io/en/stable/_downloads/bdb62f1189ee436f5378982a91ecc1cf/error_reporting_earley.ipynb

```
{
  "cells": [\
    {\
      "cell_type": "markdown",\
      "metadata": {},\
      "source": [\
        "\n# Example-Driven Error Reporting\n\nA demonstration of example-driven error reporting with the Earley parser\n(See also: error_reporting_lalr.py)\n"\
      ]\
    },\
    {\
      "cell_type": "code",\
      "execution_count": null,\
      "metadata": {\
        "collapsed": false\
      },\
      "outputs": [],\
      "source": [\
        "from lark import Lark, UnexpectedInput\n\nfrom _json_parser import json_grammar   # Using the grammar from the json_parser example\n\njson_parser = Lark(json_grammar)\n\nclass JsonSyntaxError(SyntaxError):\n    def __str__(self):\n        context, line, column = self.args\n        return '%s at line %s, column %s.\\n\\n%s' % (self.label, line, column, context)\n\nclass JsonMissingValue(JsonSyntaxError):\n    label = 'Missing Value'\n\nclass JsonMissingOpening(JsonSyntaxError):\n    label = 'Missing Opening'\n\nclass JsonMissingClosing(JsonSyntaxError):\n    label = 'Missing Closing'\n\nclass JsonMissingComma(JsonSyntaxError):\n    label = 'Missing Comma'\n\nclass JsonTrailingComma(JsonSyntaxError):\n    label = 'Trailing Comma'\n\n\ndef parse(json_text):\n    try:\n        j = json_parser.parse(json_text)\n    except UnexpectedInput as u:\n        exc_class = u.match_examples(json_parser.parse, {\n            JsonMissingOpening: ['{\"foo\": ]}',\n                                 '{\"foor\": }}',\n                                 '{\"foo\": }'],\n            JsonMissingClosing: ['{\"foo\": [}',\n                                 '{',\n                                 '{\"a\": 1',\n                                 '[1'],\n            JsonMissingComma: ['[1 2]',\n                               '[false 1]',\n                               '[\"b\" 1]',\n                               '{\"a\":true 1:4}',\n                               '{\"a\":1 1:4}',\n                               '{\"a\":\"b\" 1:4}'],\n            JsonTrailingComma: ['[,]',\n                                '[1,]',\n                                '[1,2,]',\n                                '{\"foo\":1,}',\n                                '{\"foo\":false,\"bar\":true,}']\n        }, use_accepts=True)\n        if not exc_class:\n            raise\n        raise exc_class(u.get_context(json_text), u.line, u.column)\n\n\ndef test():\n    try:\n        parse('{\"example1\": \"value\"')\n    except JsonMissingClosing as e:\n        print(e)\n\n    try:\n        parse('{\"example2\": ] ')\n    except JsonMissingOpening as e:\n        print(e)\n\n\nif __name__ == '__main__':\n    test()"\
      ]\
    }\
  ],
  "metadata": {
    "kernelspec": {
      "display_name": "Python 3",
      "language": "python",
      "name": "python3"
    },
    "language_info": {
      "codemirror_mode": {
        "name": "ipython",
        "version": 3
      },
      "file_extension": ".py",
      "mimetype": "text/x-python",
      "name": "python",
      "nbconvert_exporter": "python",
      "pygments_lexer": "ipython3",
      "version": "3.7.17"
    }
  },
  "nbformat": 4,
  "nbformat_minor": 0
}
```