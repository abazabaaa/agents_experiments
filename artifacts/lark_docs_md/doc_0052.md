https://lark-parser.readthedocs.io/en/stable/examples/fruitflies.html

- [Home](https://lark-parser.readthedocs.io/en/stable/index.html)
- [Examples for Lark](https://lark-parser.readthedocs.io/en/stable/examples/index.html)
- Handling Ambiguity
- [Edit on GitHub](https://github.com/lark-parser/lark/blob/acfe33d943a1310f3ca26145eb2896bc5c4955c9/docs/examples/fruitflies.rst)

[Previous](https://lark-parser.readthedocs.io/en/stable/examples/lark_grammar.html "Lark Grammar") [Next](https://lark-parser.readthedocs.io/en/stable/examples/calc.html "Basic calculator")

* * *

Note

[Go to the end](https://lark-parser.readthedocs.io/en/stable/examples/fruitflies.html#sphx-glr-download-examples-fruitflies-py)
to download the full example code

# Handling Ambiguity [](https://lark-parser.readthedocs.io/en/stable/examples/fruitflies.html\#handling-ambiguity "Permalink to this heading")

A demonstration of ambiguity

This example shows how to use get explicit ambiguity from Lark’s Earley parser.

```
import sys
from lark import Lark, tree

grammar = """
    sentence: noun verb noun        -> simple
            | noun verb "like" noun -> comparative

    noun: adj? NOUN
    verb: VERB
    adj: ADJ

    NOUN: "flies" | "bananas" | "fruit"
    VERB: "like" | "flies"
    ADJ: "fruit"

    %import common.WS
    %ignore WS
"""

parser = Lark(grammar, start='sentence', ambiguity='explicit')

sentence = 'fruit flies like bananas'

def make_png(filename):
    tree.pydot__tree_to_png( parser.parse(sentence), filename)

def make_dot(filename):
    tree.pydot__tree_to_dot( parser.parse(sentence), filename)

if __name__ == '__main__':
    print(parser.parse(sentence).pretty())
    # make_png(sys.argv[1])
    # make_dot(sys.argv[1])

# Output:
#
# _ambig
#   comparative
#     noun  fruit
#     verb  flies
#     noun  bananas
#   simple
#     noun
#       fruit
#       flies
#     verb  like
#     noun  bananas
#
# (or view a nicer version at "./fruitflies.png")

```

**Total running time of the script:** (0 minutes 0.000 seconds)

[`Download Python source code: fruitflies.py`](https://lark-parser.readthedocs.io/en/stable/_downloads/b0239cee17ba033b2ccfffe66491b86e/fruitflies.py)

[`Download Jupyter notebook: fruitflies.ipynb`](https://lark-parser.readthedocs.io/en/stable/_downloads/9ebc86868010e2fc400ecf1ef8a5aa4a/fruitflies.ipynb)

[Gallery generated by Sphinx-Gallery](https://sphinx-gallery.github.io/)

Versions[latest](https://lark-parser.readthedocs.io/en/latest/examples/fruitflies.html)**[stable](https://lark-parser.readthedocs.io/en/stable/examples/fruitflies.html)**Downloads[PDF](https://lark-parser.readthedocs.io/_/downloads/en/stable/pdf/)[HTML](https://lark-parser.readthedocs.io/_/downloads/en/stable/htmlzip/)[EPUB](https://lark-parser.readthedocs.io/_/downloads/en/stable/epub/)On Read the Docs[Project Home](https://app.readthedocs.org/projects/lark-parser/?utm_source=lark-parser&utm_content=flyout)[Builds](https://app.readthedocs.org/projects/lark-parser/builds/?utm_source=lark-parser&utm_content=flyout)Search

* * *

[Addons documentation](https://docs.readthedocs.io/page/addons.html?utm_source=lark-parser&utm_content=flyout) ― Hosted by
[Read the Docs](https://about.readthedocs.com/?utm_source=lark-parser&utm_content=flyout)