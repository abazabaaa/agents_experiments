https://lark-parser.readthedocs.io/en/stable/_downloads/179842700c93c6cca88ed33e1b99eb9c/json_parser.ipynb

```
{
  "cells": [\
    {\
      "cell_type": "markdown",\
      "metadata": {},\
      "source": [\
        "\n# Simple JSON Parser\n\nThe code is short and clear, and outperforms every other parser (that's written in Python).\nFor an explanation, check out the JSON parser tutorial at /docs/json_tutorial.md\n"\
      ]\
    },\
    {\
      "cell_type": "code",\
      "execution_count": null,\
      "metadata": {\
        "collapsed": false\
      },\
      "outputs": [],\
      "source": [\
        "import sys\n\nfrom lark import Lark, Transformer, v_args\n\njson_grammar = r\"\"\"\n    ?start: value\n\n    ?value: object\n          | array\n          | string\n          | SIGNED_NUMBER      -> number\n          | \"true\"             -> true\n          | \"false\"            -> false\n          | \"null\"             -> null\n\n    array  : \"[\" [value (\",\" value)*] \"]\"\n    object : \"{\" [pair (\",\" pair)*] \"}\"\n    pair   : string \":\" value\n\n    string : ESCAPED_STRING\n\n    %import common.ESCAPED_STRING\n    %import common.SIGNED_NUMBER\n    %import common.WS\n\n    %ignore WS\n\"\"\"\n\n\nclass TreeToJson(Transformer):\n    @v_args(inline=True)\n    def string(self, s):\n        return s[1:-1].replace('\\\\\"', '\"')\n\n    array = list\n    pair = tuple\n    object = dict\n    number = v_args(inline=True)(float)\n\n    null = lambda self, _: None\n    true = lambda self, _: True\n    false = lambda self, _: False\n\n\n### Create the JSON parser with Lark, using the Earley algorithm\n# json_parser = Lark(json_grammar, parser='earley', lexer='basic')\n# def parse(x):\n#     return TreeToJson().transform(json_parser.parse(x))\n\n### Create the JSON parser with Lark, using the LALR algorithm\njson_parser = Lark(json_grammar, parser='lalr',\n                   # Using the basic lexer isn't required, and isn't usually recommended.\n                   # But, it's good enough for JSON, and it's slightly faster.\n                   lexer='basic',\n                   # Disabling propagate_positions and placeholders slightly improves speed\n                   propagate_positions=False,\n                   maybe_placeholders=False,\n                   # Using an internal transformer is faster and more memory efficient\n                   transformer=TreeToJson())\nparse = json_parser.parse\n\n\ndef test():\n    test_json = '''\n        {\n            \"empty_object\" : {},\n            \"empty_array\"  : [],\n            \"booleans\"     : { \"YES\" : true, \"NO\" : false },\n            \"numbers\"      : [ 0, 1, -2, 3.3, 4.4e5, 6.6e-7 ],\n            \"strings\"      : [ \"This\", [ \"And\" , \"That\", \"And a \\\\\"b\" ] ],\n            \"nothing\"      : null\n        }\n    '''\n\n    j = parse(test_json)\n    print(j)\n    import json\n    assert j == json.loads(test_json)\n\n\nif __name__ == '__main__':\n    # test()\n    with open(sys.argv[1]) as f:\n        print(parse(f.read()))"\
      ]\
    }\
  ],
  "metadata": {
    "kernelspec": {
      "display_name": "Python 3",
      "language": "python",
      "name": "python3"
    },
    "language_info": {
      "codemirror_mode": {
        "name": "ipython",
        "version": 3
      },
      "file_extension": ".py",
      "mimetype": "text/x-python",
      "name": "python",
      "nbconvert_exporter": "python",
      "pygments_lexer": "ipython3",
      "version": "3.7.17"
    }
  },
  "nbformat": 4,
  "nbformat_minor": 0
}
```