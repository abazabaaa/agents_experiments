https://lark-parser.readthedocs.io/en/stable/_downloads/9056f9d3440746d8fe151c31173e18e6/qscintilla_json.ipynb

```
{
  "cells": [\
    {\
      "cell_type": "markdown",\
      "metadata": {},\
      "source": [\
        "\n# Syntax Highlighting\n\nThis example shows how to write a syntax-highlighted editor with Qt and Lark\n\nRequirements:\n\n  PyQt5==5.15.8\n  QScintilla==2.13.4\n"\
      ]\
    },\
    {\
      "cell_type": "code",\
      "execution_count": null,\
      "metadata": {\
        "collapsed": false\
      },\
      "outputs": [],\
      "source": [\
        "import sys\nimport textwrap\n\nfrom PyQt5.QtWidgets import QApplication\nfrom PyQt5.QtGui import QColor, QFont, QFontMetrics\n\nfrom PyQt5.Qsci import QsciScintilla\nfrom PyQt5.Qsci import QsciLexerCustom\n\nfrom lark import Lark\n\n\nclass LexerJson(QsciLexerCustom):\n\n    def __init__(self, parent=None):\n        super().__init__(parent)\n        self.create_parser()\n        self.create_styles()\n\n    def create_styles(self):\n        deeppink = QColor(249, 38, 114)\n        khaki = QColor(230, 219, 116)\n        mediumpurple = QColor(174, 129, 255)\n        mediumturquoise = QColor(81, 217, 205)\n        yellowgreen = QColor(166, 226, 46)\n        lightcyan = QColor(213, 248, 232)\n        darkslategrey = QColor(39, 40, 34)\n\n        styles = {\n            0: mediumturquoise,\n            1: mediumpurple,\n            2: yellowgreen,\n            3: deeppink,\n            4: khaki,\n            5: lightcyan\n        }\n\n        for style, color in styles.items():\n            self.setColor(color, style)\n            self.setPaper(darkslategrey, style)\n            self.setFont(self.parent().font(), style)\n\n        self.token_styles = {\n            \"COLON\": 5,\n            \"COMMA\": 5,\n            \"LBRACE\": 5,\n            \"LSQB\": 5,\n            \"RBRACE\": 5,\n            \"RSQB\": 5,\n            \"FALSE\": 0,\n            \"NULL\": 0,\n            \"TRUE\": 0,\n            \"STRING\": 4,\n            \"NUMBER\": 1,\n        }\n\n    def create_parser(self):\n        grammar = '''\n            anons: \":\" \"{\" \"}\" \",\" \"[\" \"]\"\n            TRUE: \"true\"\n            FALSE: \"false\"\n            NULL: \"NULL\"\n            %import common.ESCAPED_STRING -> STRING\n            %import common.SIGNED_NUMBER  -> NUMBER\n            %import common.WS\n            %ignore WS\n        '''\n\n        self.lark = Lark(grammar, parser=None, lexer='basic')\n        # All tokens: print([t.name for t in self.lark.parser.lexer.tokens])\n\n    def defaultPaper(self, style):\n        return QColor(39, 40, 34)\n\n    def language(self):\n        return \"Json\"\n\n    def description(self, style):\n        return {v: k for k, v in self.token_styles.items()}.get(style, \"\")\n\n    def styleText(self, start, end):\n        self.startStyling(start)\n        text = self.parent().text()[start:end]\n        last_pos = 0\n\n        try:\n            for token in self.lark.lex(text):\n                ws_len = token.start_pos - last_pos\n                if ws_len:\n                    self.setStyling(ws_len, 0)    # whitespace\n\n                token_len = len(bytearray(token, \"utf-8\"))\n                self.setStyling(\n                    token_len, self.token_styles.get(token.type, 0))\n\n                last_pos = token.start_pos + token_len\n        except Exception as e:\n            print(e)\n\n\nclass EditorAll(QsciScintilla):\n\n    def __init__(self, parent=None):\n        super().__init__(parent)\n\n        # Set font defaults\n        font = QFont()\n        font.setFamily('Consolas')\n        font.setFixedPitch(True)\n        font.setPointSize(8)\n        font.setBold(True)\n        self.setFont(font)\n\n        # Set margin defaults\n        fontmetrics = QFontMetrics(font)\n        self.setMarginsFont(font)\n        self.setMarginWidth(0, fontmetrics.width(\"000\") + 6)\n        self.setMarginLineNumbers(0, True)\n        self.setMarginsForegroundColor(QColor(128, 128, 128))\n        self.setMarginsBackgroundColor(QColor(39, 40, 34))\n        self.setMarginType(1, self.SymbolMargin)\n        self.setMarginWidth(1, 12)\n\n        # Set indentation defaults\n        self.setIndentationsUseTabs(False)\n        self.setIndentationWidth(4)\n        self.setBackspaceUnindents(True)\n        self.setIndentationGuides(True)\n\n        # self.setFolding(QsciScintilla.CircledFoldStyle)\n\n        # Set caret defaults\n        self.setCaretForegroundColor(QColor(247, 247, 241))\n        self.setCaretWidth(2)\n\n        # Set selection color defaults\n        self.setSelectionBackgroundColor(QColor(61, 61, 52))\n        self.resetSelectionForegroundColor()\n\n        # Set multiselection defaults\n        self.SendScintilla(QsciScintilla.SCI_SETMULTIPLESELECTION, True)\n        self.SendScintilla(QsciScintilla.SCI_SETMULTIPASTE, 1)\n        self.SendScintilla(\n            QsciScintilla.SCI_SETADDITIONALSELECTIONTYPING, True)\n\n        lexer = LexerJson(self)\n        self.setLexer(lexer)\n\n\nEXAMPLE_TEXT = textwrap.dedent(\"\"\"\\\n        {\n            \"_id\": \"5b05ffcbcf8e597939b3f5ca\",\n            \"about\": \"Excepteur consequat commodo esse voluptate aute aliquip ad sint deserunt commodo eiusmod irure. Sint aliquip sit magna duis eu est culpa aliqua excepteur ut tempor nulla. Aliqua ex pariatur id labore sit. Quis sit ex aliqua veniam exercitation laboris anim adipisicing. Lorem nisi reprehenderit ullamco labore qui sit ut aliqua tempor consequat pariatur proident.\",\n            \"address\": \"665 Malbone Street, Thornport, Louisiana, 243\",\n            \"age\": 23,\n            \"balance\": \"$3,216.91\",\n            \"company\": \"BULLJUICE\",\n            \"email\": \"elisekelley@bulljuice.com\",\n            \"eyeColor\": \"brown\",\n            \"gender\": \"female\",\n            \"guid\": \"d3a6d865-0f64-4042-8a78-4f53de9b0707\",\n            \"index\": 0,\n            \"isActive\": false,\n            \"isActive2\": true,\n            \"latitude\": -18.660714,\n            \"longitude\": -85.378048,\n            \"name\": \"Elise Kelley\",\n            \"phone\": \"+1 (808) 543-3966\",\n            \"picture\": \"http://placehold.it/32x32\",\n            \"registered\": \"2017-09-30T03:47:40 -02:00\",\n            \"tags\": [\n                \"et\",\n                \"nostrud\",\n                \"in\",\n                \"fugiat\",\n                \"incididunt\",\n                \"labore\",\n                \"nostrud\"\n            ]\n        }\\\n    \"\"\")\n\ndef main():\n    app = QApplication(sys.argv)\n    ex = EditorAll()\n    ex.setWindowTitle(__file__)\n    ex.setText(EXAMPLE_TEXT)\n    ex.resize(800, 600)\n    ex.show()\n    sys.exit(app.exec_())\n\n\nif __name__ == \"__main__\":\n    main()"\
      ]\
    }\
  ],
  "metadata": {
    "kernelspec": {
      "display_name": "Python 3",
      "language": "python",
      "name": "python3"
    },
    "language_info": {
      "codemirror_mode": {
        "name": "ipython",
        "version": 3
      },
      "file_extension": ".py",
      "mimetype": "text/x-python",
      "name": "python",
      "nbconvert_exporter": "python",
      "pygments_lexer": "ipython3",
      "version": "3.7.17"
    }
  },
  "nbformat": 4,
  "nbformat_minor": 0
}
```