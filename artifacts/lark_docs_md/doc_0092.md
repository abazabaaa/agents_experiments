https://lark-parser.readthedocs.io/en/stable/examples/advanced/conf_earley.html

- [Home](https://lark-parser.readthedocs.io/en/stable/index.html)
- [Examples for Lark](https://lark-parser.readthedocs.io/en/stable/examples/index.html)
- [Advanced Examples](https://lark-parser.readthedocs.io/en/stable/examples/advanced/index.html)
- Earley’s dynamic lexer
- [Edit on GitHub](https://github.com/lark-parser/lark/blob/acfe33d943a1310f3ca26145eb2896bc5c4955c9/docs/examples/advanced/conf_earley.rst)

[Previous](https://lark-parser.readthedocs.io/en/stable/examples/advanced/templates.html "Templates") [Next](https://lark-parser.readthedocs.io/en/stable/examples/advanced/error_handling.html "Error handling using an interactive parser")

* * *

Note

[Go to the end](https://lark-parser.readthedocs.io/en/stable/examples/advanced/conf_earley.html#sphx-glr-download-examples-advanced-conf-earley-py)
to download the full example code

# Earley’s dynamic lexer [](https://lark-parser.readthedocs.io/en/stable/examples/advanced/conf_earley.html\#earleys-dynamic-lexer "Permalink to this heading")

Demonstrates the power of Earley’s dynamic lexer on a toy configuration language

Using a lexer for configuration files is tricky, because values don’t
have to be surrounded by delimiters. Using a basic lexer for this just won’t work.

In this example we use a dynamic lexer and let the Earley parser resolve the ambiguity.

Another approach is to use the contextual lexer with LALR. It is less powerful than Earley,
but it can handle some ambiguity when lexing and it’s much faster.
See examples/conf\_lalr.py for an example of that approach.

```
from lark import Lark

parser = Lark(r"""
        start: _NL? section+
        section: "[" NAME "]" _NL item+
        item: NAME "=" VALUE? _NL

        NAME: /\w/+
        VALUE: /./+

        %import common.NEWLINE -> _NL
        %import common.WS_INLINE
        %ignore WS_INLINE
    """, parser="earley")

def test():
    sample_conf = """
[bla]

a=Hello
this="that",4
empty=
"""

    r = parser.parse(sample_conf)
    print (r.pretty())

if __name__ == '__main__':
    test()

```

**Total running time of the script:** (0 minutes 0.000 seconds)

[`Download Python source code: conf_earley.py`](https://lark-parser.readthedocs.io/en/stable/_downloads/1bc3cb4e14f2c898c0bf16247304d5b2/conf_earley.py)

[`Download Jupyter notebook: conf_earley.ipynb`](https://lark-parser.readthedocs.io/en/stable/_downloads/f034a71a096a9049dcf409ec85c36943/conf_earley.ipynb)

[Gallery generated by Sphinx-Gallery](https://sphinx-gallery.github.io/)

Versions[latest](https://lark-parser.readthedocs.io/en/latest/examples/advanced/conf_earley.html)**[stable](https://lark-parser.readthedocs.io/en/stable/examples/advanced/conf_earley.html)**Downloads[PDF](https://lark-parser.readthedocs.io/_/downloads/en/stable/pdf/)[HTML](https://lark-parser.readthedocs.io/_/downloads/en/stable/htmlzip/)[EPUB](https://lark-parser.readthedocs.io/_/downloads/en/stable/epub/)On Read the Docs[Project Home](https://app.readthedocs.org/projects/lark-parser/?utm_source=lark-parser&utm_content=flyout)[Builds](https://app.readthedocs.org/projects/lark-parser/builds/?utm_source=lark-parser&utm_content=flyout)Search

* * *

[Addons documentation](https://docs.readthedocs.io/page/addons.html?utm_source=lark-parser&utm_content=flyout) ― Hosted by
[Read the Docs](https://about.readthedocs.com/?utm_source=lark-parser&utm_content=flyout)