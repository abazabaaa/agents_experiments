https://lark-parser.readthedocs.io/en/stable/_downloads/5a9e0a0dc353e4a9357e2204639f6c76/error_handling.ipynb

```
{
  "cells": [\
    {\
      "cell_type": "markdown",\
      "metadata": {},\
      "source": [\
        "\n# Error handling using an interactive parser\n\nThis example demonstrates error handling using an interactive parser in LALR\n\nWhen the parser encounters an UnexpectedToken exception, it creates a\nan interactive parser with the current parse-state, and lets you control how\nto proceed step-by-step. When you've achieved the correct parse-state,\nyou can resume the run by returning True.\n"\
      ]\
    },\
    {\
      "cell_type": "code",\
      "execution_count": null,\
      "metadata": {\
        "collapsed": false\
      },\
      "outputs": [],\
      "source": [\
        "from lark import Token\n\nfrom _json_parser import json_parser\n\ndef ignore_errors(e):\n    if e.token.type == 'COMMA':\n        # Skip comma\n        return True\n    elif e.token.type == 'SIGNED_NUMBER':\n        # Try to feed a comma and retry the number\n        e.interactive_parser.feed_token(Token('COMMA', ','))\n        e.interactive_parser.feed_token(e.token)\n        return True\n\n    # Unhandled error. Will stop parse and raise exception\n    return False\n\n\ndef main():\n    s = \"[0 1, 2,, 3,,, 4, 5 6 ]\"\n    res = json_parser.parse(s, on_error=ignore_errors)\n    print(res)      # prints [0.0, 1.0, 2.0, 3.0, 4.0, 5.0, 6.0]\n\nmain()"\
      ]\
    }\
  ],
  "metadata": {
    "kernelspec": {
      "display_name": "Python 3",
      "language": "python",
      "name": "python3"
    },
    "language_info": {
      "codemirror_mode": {
        "name": "ipython",
        "version": 3
      },
      "file_extension": ".py",
      "mimetype": "text/x-python",
      "name": "python",
      "nbconvert_exporter": "python",
      "pygments_lexer": "ipython3",
      "version": "3.7.17"
    }
  },
  "nbformat": 4,
  "nbformat_minor": 0
}
```